# 英语学习助手应用需求文档

## 1. 项目概述

开发一个英语学习应用，通过单词识别、文章生成、跟读练习和评分功能，帮助用户提升英语水平。

## 2. 核心功能需求

### 2.1 单词输入方式
- **文本输入**:
  - 用户可以手动输入单词列表
  - 支持复制粘贴多个单词
- **拍照输入**:
  - 用户可以拍照或上传图片
  - 系统通过OCR技术识别图片中的英文单词
  - 支持对识别结果进行编辑和修正

### 2.2 用户英语水平评估
- **输入**: 用户提供的单词列表(手动输入或拍照识别)
- **处理**: 
  - 分析单词的难度级别(基于CEFR标准：A1-C2)
  - 计算用户词汇量估计值
  - 确定用户当前英语水平
- **输出**: 
  - 用户英语水平评估结果(初级/中级/高级)
  - CEFR级别(A1-C2)
  - 词汇量估计

### 2.3 文章生成
- **输入**: 
  - 用户的英语水平
  - 用户提供的单词列表
- **处理**:
  - 根据用户水平选择适当的语法结构和词汇难度
  - 确保生成的文章包含用户提供的单词
  - 控制文章长度(初级:100-200词, 中级:200-300词, 高级:300-500词)
- **输出**:
  - 适合用户水平的英语文章
  - 文章中用户提供的单词需高亮显示

### 2.4 跟读功能
- **输入**: 生成的英语文章
- **处理**:
  - 提供文章的标准发音(TTS)
  - 支持整篇文章朗读
  - 支持分句朗读
  - 支持单词朗读
- **输出**:
  - 文章的语音播放
  - 朗读时文本同步高亮

### 2.5 跟读评分
- **输入**: 用户的跟读录音
- **处理**:
  - 语音识别转换为文本
  - 与原文进行比对
  - 评估发音准确度
  - 识别发音问题的单词
- **输出**:
  - 总体跟读评分(0-100分)
  - 发音问题单词列表
  - 改进建议

## 3. 技术实现方案

### 3.1 前端实现
- **用户界面**:
  - 单词输入区域(文本输入和拍照上传)
  - 图片预览和OCR结果编辑区
  - 英语水平显示区
  - 文章显示区(支持高亮)
  - 音频控制区(播放、录音按钮)
  - 评分结果显示区

- **技术栈**:
  - HTML5, CSS3, JavaScript
  - Web Speech API (语音合成)
  - MediaRecorder API (录音功能)
  - Tesseract.js (OCR图像识别)
  - 设备摄像头API

### 3.2 后端实现
- **图像处理模块**:
  - OCR文字识别
  - 图像预处理(优化识别率)

- **英语水平评估模块**:
  - 单词难度数据库
  - 水平评估算法

- **文章生成模块**:
  - 基于用户水平的文章生成算法
  - 单词整合逻辑

- **语音处理模块**:
  - 语音识别(STT)
  - 发音评估算法

- **技术栈**:
  - 语音识别API (如Web Speech API或专业API)
  - 自然语言处理库
  - OCR处理库

## 4. 用户流程

1. 用户输入单词列表(手动输入或拍照上传)
2. 如果是拍照上传:
   - 系统进行OCR识别
   - 用户确认或编辑识别结果
3. 系统评估用户英语水平
4. 系统生成适合用户水平的文章
5. 用户可以:
   - 听取标准朗读
   - 进行跟读练习
   - 获取跟读评分和反馈
6. 用户可以针对问题单词进行专项练习

## 5. 非功能需求

### 5.1 性能需求
- 图像识别处理时间不超过5秒
- 文章生成响应时间不超过3秒
- 语音识别和评分处理时间不超过5秒

### 5.2 兼容性需求
- 支持主流浏览器(Chrome, Firefox, Safari, Edge)
- 响应式设计，支持桌面和移动设备
- 确保移动设备上摄像头功能正常工作

### 5.3 安全需求
- 用户语音数据仅用于评分，不进行存储
- 用户上传的图片仅用于OCR识别，不进行存储
- 确保API密钥等敏感信息安全

## 6. 开发里程碑

### 阶段一: 基础功能实现
- 文本输入和拍照OCR识别功能开发
- 英语水平评估模块开发
- 简单文章生成功能实现
- 基础UI设计与实现

### 阶段二: 语音功能实现
- 文章朗读功能实现
- 用户跟读录音功能实现
- 简单发音评分功能实现

### 阶段三: 优化与完善
- OCR识别准确率优化
- 文章生成算法优化
- 发音评分准确度提升
- UI/UX优化
- 性能优化

## 7. 技术挑战与解决方案

### 7.1 提高OCR识别准确率
- **挑战**: 不同光线条件和图片质量下的OCR识别准确率
- **解决方案**: 
  - 图像预处理(对比度调整、去噪等)
  - 提供用户手动修正识别结果的界面
  - 考虑使用多种OCR引擎并比较结果

### 7.2 准确评估用户英语水平
- **挑战**: 仅通过单词列表难以全面评估用户水平
- **解决方案**: 
  - 结合单词难度、数量和多样性进行综合评估
  - 可考虑增加简单测试题辅助评估

### 7.3 生成自然流畅的文章
- **挑战**: 确保生成的文章自然且包含指定单词
- **解决方案**:
  - 使用模板+变量替换的方式生成基础文章
  - 考虑使用AI文本生成API(如OpenAI API)

### 7.4 准确评估用户发音
- **挑战**: Web端语音识别和评分准确度有限
- **解决方案**:
  - 使用专业语音评估API
  - 结合文本相似度和发音关键点评估
